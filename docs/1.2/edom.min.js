"use strict";class edomElement{get text(){return this._text}set text(e){this._text=e;this.element.innerText=this._text}get id(){return this._id}set id(e){this._id=e;this.element.id=e}constructor(e,t,s=null){this.children=[];this._text="";this.parent=undefined;this.classes=[];this.handlers={};this.values={};this._id=Math.random().toString()+Math.random().toString();if(e){if(s===null){throw new edomElementNullException("Given Element is null")}else{this.element=s}}else{this.element=document.createElement(t)}edom.allElements.push(this);this.tag=t;return this}addChild(e){this.children.push(e);this.element.appendChild(e.element);e.parent=this}setProperty(e,t){this.values[e]=t}getProperty(e){return this.values[e]}addClick(e,t){this.addEvent("click",e,t)}doClick(){this.element.click()}deleteClick(e){this.deleteEvent("click",e)}addEvent(e,t,s){const i=()=>{s(this)};this.handlers[t]=i;this.element.addEventListener(e,i)}deleteEvent(e,t){this.element.removeEventListener(e,this.handlers[t])}applyStyle(...e){e.forEach(e=>{this.element.classList.add(e);this.classes.push(e)})}removeStyle(...e){e.forEach(e=>{this.element.classList.remove(e);const t=this.classes.indexOf(e);if(t>-1){this.classes.splice(t,1)}})}hasStyle(...e){let t=true;e.forEach(e=>{if(!this.classes.includes(e)){t=false}});return t}swapStyle(e,t){this.removeStyle(e);this.applyStyle(t)}delete(e=false){if(!e){if(this.parent!==undefined){for(let e=0;e<this.parent.children.length;e++){if(this.parent.children[e].id===this.id){this.parent.children.splice(e,1)}}}}for(let e=0;e<edom.allElements.length;e++){if(edom.allElements[e].id===this.id){edom.allElements.splice(e,1)}}this.children.forEach(e=>{e.delete(true)});this.element.remove();for(let e in this)delete this[e];return true}enable(){this.swapStyle("hidden","visible")}disable(){this.swapStyle("visible","hidden")}focus(){this.element.focus()}}"use strict";class edomInputElement extends edomElement{constructor(){super(...arguments);this._value="";this._type="text";this._checked=false;this._groupID=""}get value(){return this._value}set value(e){this._value=e;this.element.value=e}get type(){return this._type}set type(e){this._type=e;this.element.type=e}get checked(){return this._checked}set checked(e){this._checked=e;this.element.checked=e}get groupID(){return this._groupID}set groupID(e){this._groupID=e;this.element.name=this._groupID}addChange(e,t){this.addEvent("input",e,e=>{t(e)})}deleteChange(e){this.deleteEvent("input",e)}select(){this.element.select()}}"use strict";class edomTAElement extends edomInputElement{setContent(e){this.element.value=e;this.value=e}}"use strict";class edomAnchorElement extends edomElement{constructor(){super(...arguments);this.target=""}href(e){this.target=e;this.element.href=this.target}}"use strict";class edomElementNullException{constructor(e){this.message=e;console.error(e)}}"use strict";class edomImageElement extends edomElement{constructor(){super(...arguments);this._src=""}get src(){return this._src}set src(e){this._src=e;this.element.src=this.src}}"use strict";class edomLabelElement extends edomElement{constructor(){super(...arguments);this._for=""}get for(){return this._for}set for(e){this._for=e;this.element.htmlFor=this._for}}"use strict";class edomListElement extends edomElement{addEntry(e){const t=edom.newElement("li");t.text=e;this.addChild(t)}addEntryLink(e,t){const s=edom.newElement("li");const i=edom.newElement("a");i.text=e;if(typeof t==="string"){i.href(t)}else if(typeof t==="function"){i.addClick("",()=>{t(i)});i.href("javascript:void(0);")}s.addChild(i);this.addChild(s)}}"use strict";class edom{static get allElements(){return edom._allElements}static init(){edom._allElements=[];edom.body=edom.fromExisting(document.body);edom.body.id="body"}static newElement(e){switch(e.toLowerCase()){case"input":const t=new edomInputElement(false,e);t.addChange("onInput",e=>{e.value=e.element.value});return t;case"textarea":const s=new edomInputElement(false,e);s.addChange("onInput",e=>{e.value=e.element.value});return s;case"a":return new edomAnchorElement(false,e);case"ul":case"ol":return new edomListElement(false,e);case"img":return new edomImageElement(false,e);case"label":return new edomLabelElement(false,e);default:return new edomElement(false,e)}}static fromExisting(e){edom.iterateChildren(e);return new edomElement(true,"",e)}static iterateChildren(e){edom.getChildren(e).forEach(e=>{console.log(e)})}static getChildren(e){return Array.from(e.children)}static findById(t){let s=undefined;edom.allElements.forEach(e=>{if(e.id===t){s=e}});return s}static break(){return edom.newElement("br")}static fromTemplate(t,s=null){if(s===null){if(t.classes!=undefined){edom.body.applyStyle(...t.classes||[])}this.fromTemplate(t.children,edom.body)}else{for(let e=0;e<t.length;e++){const i=t[e];const n=edom.newElement(i.tag);if(i.id!=undefined){n.id=i.id}if(i.text!=undefined){n.text=i.text}if(i.value!=undefined){n.value=i.value}if(i.type!=undefined){n.type=i.type}if(i.checked!=undefined){n.checked=i.checked;n.addClick("clickChangeState",e=>{if(e.checked===e.element.checked){return}e.checked=e.element.checked})}if(i.classes!=undefined){n.applyStyle(...i.classes)}if(i.src!=undefined){n.src=i.src}if(i.for!=undefined){n.for=i.for}if(i.groupID!=undefined){n.groupID=i.groupID}if(i.target!=undefined){n.href(i.target)}if(i.handler!=undefined){i.handler.forEach(t=>{n.addEvent(t.type,t.id,e=>{t.body(e)})})}s.addChild(n);if(i.children!=undefined){this.fromTemplate(i.children,n)}}}}}"use strict";class edomRouter{constructor(){onpopstate=e=>{edomRouter.goTo(window.location.pathname,false)}}static goTo(e,t=true){edom.body.children.forEach(e=>e.delete());let s=this.routes[e];if(s===undefined){s=this.routes["fallback"]}s.render(edom.body);if(t){history.pushState(null,"",e)}}static setFallback(e){this.routes["fallback"]=e}static addRoute(e,t){this.routes[e]=t}static rewriteUrl(){let e=window.location.pathname;let t=window.location.search;let s=window.location.hash;let i=edomRouter.parseQuery(t);if(i["p"]!==undefined&&i["q"]!==undefined&&i["h"]!==undefined){edomRouter.decodeUrl(i)}else{edomRouter.encodeUrl(e,t,s)}}static decodeUrl(e){const t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;let s=e["p"];let i=e["q"];let n=e["h"];let l="";let d="";let r="";if(t.test(s)){l=atob(s)}if(t.test(i)){d=atob(i)}if(t.test(n)){r=atob(n)}history.replaceState(null,"",l+d+r);edomRouter.goTo(l,false)}static encodeUrl(e,t,s){window.location.assign("/?p="+btoa(e)+"&q="+btoa(t)+"&h="+btoa(s))}static parseQuery(e){if(e.indexOf("?")<0){return{}}let i={};let t=e.substring(e.indexOf("?")+1);let s=t.split("&");s.forEach(e=>{let t=e.substring(0,e.indexOf("="));let s=e.substring(e.indexOf("=")+1);i[t]=s});return i}}edomRouter.routes={};